<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instant Dashboard</title>

  <script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="bg-gray-100 min-h-screen">


  <div class="max-w-7xl mx-auto p-6 space-y-6">

    <!-- Header -->
    <header class="flex items-center justify-between">
      <h1 class="text-2xl font-bold text-gray-800">
         Instant Dashboard Generator
      </h1>
    </header>

    <!-- Input Panel -->
    <section class="bg-white rounded-xl shadow p-6 space-y-4">
    

      
      <textarea
        id="jsonInput"
        placeholder="Type your JSON data here..."
        class="w-full h-40 p-4 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"
      ></textarea>

      <div class="flex gap-4">
        <input
          type="text"
          id="userPrompt"
          placeholder="Describe the dashboard style..."
          class="flex-1 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"
        />


        <button id="genBtn" onclick="generateDashboard()" class="flex items-center gap-2 bg-blue-600 px-4 py-2 rounded text-white">
            <span id="genText">Generate</span>
            <svg id="genSpinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
            </svg>
         </button>

        <button id="downloadBtn" disabled onclick="downloadScreenshot()"
            class="bg-gray-400 cursor-not-allowed px-4 py-2 rounded text-white">
            Download Screenshot
        </button>

      </div>
      


    </section>

    <!-- Preview -->
    <section class="bg-white rounded-xl shadow overflow-hidden">
      <iframe
        id="preview"
        class="w-full h-[600px]"
        srcdoc="<div style='padding:20px;color:#777;font-family:sans-serif'>Your dashboard will appear here...</div>"
      ></iframe>
    </section>

  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
  <!-- download -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</body>
</html>
